import{r as c,a as x,f as i,j as e}from"./index-BxsvggaG.js";import{a as u}from"./Skeleton-BiEkAveh.js";function j(){const[n,d]=c.useState([]),[l,o]=c.useState(!0),{addToast:t}=x();c.useEffect(()=>{a()},[]);const a=async()=>{try{const s=await i.get("/api/v1/subscriptions/admin/featured");d(s.data.listings||[])}catch(s){console.error("Failed to fetch featured listings:",s)}finally{o(!1)}},p=async s=>{try{await i.post(`/api/v1/subscriptions/admin/featured/${s}/approve`),t({type:"success",message:"Featured listing approved!"}),a()}catch{t({type:"error",message:"Failed to approve listing"})}},m=async s=>{try{await i.post(`/api/v1/subscriptions/admin/featured/${s}/reject`,{reason:"Rejected by admin"}),t({type:"success",message:"Featured listing rejected"}),a()}catch{t({type:"error",message:"Failed to reject listing"})}};return e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Featured Listings"}),e.jsx("div",{className:"space-y-4",children:l?Array.from({length:3}).map((s,r)=>e.jsx(u,{className:"h-24 rounded-xl"},r)):n.length>0?n.map(s=>e.jsx("div",{className:"card",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsxs("h3",{className:"font-semibold text-gray-900",children:["Product #",s.product_id]}),e.jsxs("p",{className:"text-sm text-gray-500",children:["Type: ",s.listing_type]}),e.jsxs("p",{className:"text-sm text-gray-500",children:["Status: ",s.status]})]}),s.status==="pending"&&e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:()=>p(s.id),className:"btn-primary text-sm py-2",children:"Approve"}),e.jsx("button",{onClick:()=>m(s.id),className:"btn-secondary text-sm py-2",children:"Reject"})]})]})},s.id)):e.jsxs("div",{className:"card text-center py-12",children:[e.jsx("span",{className:"text-5xl block mb-4",children:"‚≠ê"}),e.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-2",children:"No Featured Listings"}),e.jsx("p",{className:"text-gray-500",children:"Featured listing requests will appear here"})]})})]})}export{j as default};
