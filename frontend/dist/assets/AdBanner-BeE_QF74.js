import{r as a,j as e,f as x}from"./index-BxsvggaG.js";import{a as h}from"./Skeleton-BiEkAveh.js";function p({position:r}){const[s,c]=a.useState([]),[d,u]=a.useState(!0),[o,f]=a.useState(0);if(a.useEffect(()=>{(async()=>{try{const t=await x.get("/api/v1/products/ads",{params:{position:r}});c(t.data.ads||[])}catch(t){console.error("Failed to fetch ads:",t)}finally{u(!1)}})()},[r]),a.useEffect(()=>{if(s.length<=1)return;const n=setInterval(()=>{f(t=>(t+1)%s.length)},5e3);return()=>clearInterval(n)},[s]),d)return e.jsx(h,{className:"w-full aspect-[21/9] rounded-2xl mb-6"});if(s.length===0)return null;const l=s[o];return e.jsxs("div",{className:"relative w-full aspect-[21/9] rounded-2xl overflow-hidden mb-6 group",children:[l.link_url?e.jsx("a",{href:l.link_url,target:"_blank",rel:"noopener noreferrer",children:e.jsx(i,{ad:l})}):e.jsx(i,{ad:l}),s.length>1&&e.jsx("div",{className:"absolute bottom-3 left-1/2 -translate-x-1/2 flex gap-1.5",children:s.map((n,t)=>e.jsx("div",{className:`h-1.5 rounded-full transition-all duration-300 ${t===o?"w-4 bg-white":"w-1.5 bg-white/50"}`},t))})]})}function i({ad:r}){return e.jsxs("div",{className:"relative w-full h-full bg-gray-100",children:[e.jsx("img",{src:r.image_url,alt:r.title,className:"w-full h-full object-cover"}),r.title&&e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 via-transparent to-transparent flex flex-col justify-end p-4",children:e.jsx("h3",{className:"text-white font-bold text-lg leading-tight line-clamp-1",children:r.title})})]})}export{p as A};
