import{u as k,a as w,r as n,j as e,L as a}from"./index-BxsvggaG.js";import{L as b}from"./Header-DUNe79n9.js";import{u as L}from"./productStore-CZGEDRsy.js";import{S as h}from"./Skeleton-BiEkAveh.js";import{A as x}from"./AdBanner-BeE_QF74.js";const p=["from-amber-400 to-orange-500","from-sky-400 to-blue-500","from-rose-400 to-pink-500","from-emerald-400 to-green-500","from-violet-400 to-purple-500","from-cyan-400 to-teal-500","from-lime-400 to-green-500","from-fuchsia-400 to-pink-500"],g=["ðŸ›ï¸","ðŸ“±","ðŸ‘•","ðŸ“š","ðŸ”","ðŸ’„","ðŸŽ®","ðŸ "];function j({product:s}){var t,l;return e.jsx(a,{to:`/product/${s.id}`,className:"group block",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-card overflow-hidden hover:shadow-card-hover hover:-translate-y-0.5 transition-all duration-300",children:[e.jsxs("div",{className:"aspect-square relative overflow-hidden",children:[(l=(t=s.media)==null?void 0:t[0])!=null&&l.url?e.jsx("img",{src:s.media[0].url,alt:s.title,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-500",loading:"lazy"}):e.jsx("div",{className:"w-full h-full bg-gradient-to-br from-surface-100 to-surface-200 flex items-center justify-center",children:e.jsx("svg",{className:"w-12 h-12 text-gray-300",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4"})})}),s.compare_price&&s.compare_price>s.price&&e.jsxs("span",{className:"absolute top-2 left-2 bg-accent-500 text-white text-[10px] font-bold px-2 py-1 rounded-lg shadow-sm",children:["-",Math.round((1-s.price/s.compare_price)*100),"%"]})]}),e.jsxs("div",{className:"p-3",children:[e.jsx("h3",{className:"font-semibold text-gray-800 text-sm line-clamp-2 mb-1.5 leading-tight group-hover:text-primary-600 transition-colors",children:s.title}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("span",{className:"text-base font-bold text-primary-600",children:["â‚¦",s.price.toLocaleString()]}),s.compare_price&&s.compare_price>s.price&&e.jsxs("span",{className:"text-xs text-gray-400 line-through",children:["â‚¦",s.compare_price.toLocaleString()]})]}),s.store&&e.jsxs("p",{className:"text-[11px] text-gray-400 mt-1.5 flex items-center gap-1",children:[e.jsx("svg",{className:"w-3 h-3",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"})}),s.store.name]})]})]})})}function S({store:s}){var t;return e.jsx(a,{to:`/store/${s.id}`,className:"min-w-[130px] max-w-[130px] group",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-card p-4 text-center hover:shadow-card-hover transition-all duration-300",children:[e.jsx("div",{className:"w-14 h-14 mx-auto mb-2.5 rounded-2xl bg-gradient-to-br from-primary-100 to-primary-50 flex items-center justify-center overflow-hidden ring-2 ring-primary-200/50",children:s.logo_url?e.jsx("img",{src:s.logo_url,alt:s.name,className:"w-full h-full object-cover"}):e.jsx("svg",{className:"w-7 h-7 text-primary-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"})})}),e.jsx("h3",{className:"font-semibold text-gray-800 text-xs line-clamp-1",children:s.name}),e.jsxs("div",{className:"flex items-center justify-center gap-1 text-[10px] text-gray-400 mt-1",children:[e.jsx("svg",{className:"w-3 h-3 text-primary-400",viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})}),e.jsx("span",{className:"font-medium",children:((t=s.rating)==null?void 0:t.toFixed(1))||"0.0"})]})]})})}function P(){const{featuredProducts:s,recentProducts:t,fetchFeaturedProducts:l,fetchRecentProducts:u}=L(),{categories:c,loading:d,fetchCategories:f,connectSocket:v}=k(),{addToast:N}=w(),[i,y]=n.useState(!0),[m,M]=n.useState([]);return n.useEffect(()=>{v(),f(),(async()=>{try{await Promise.all([l(),u()])}catch{N({type:"error",message:"Failed to load products"})}finally{y(!1)}})()},[]),e.jsxs("div",{className:"pb-6",children:[e.jsx(b,{}),e.jsxs("div",{className:"px-4 space-y-6 pt-1",children:[e.jsxs(a,{to:"/search",className:"flex items-center gap-3 bg-surface-100 rounded-2xl px-4 py-3.5 text-gray-400 hover:bg-surface-200 transition-colors border border-surface-200",children:[e.jsx("svg",{className:"w-5 h-5 text-primary-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})}),e.jsx("span",{className:"text-sm font-medium",children:"Search for products, stores..."})]}),e.jsx(x,{position:"home_banner"}),e.jsxs("section",{children:[e.jsxs("div",{className:"section-header",children:[e.jsx("h2",{className:"section-title",children:"Categories"}),e.jsx(a,{to:"/categories",className:"section-link",children:"See All"})]}),e.jsx("div",{className:"grid grid-cols-3 sm:grid-cols-4 gap-3",children:d?Array.from({length:6}).map((r,o)=>e.jsx("div",{className:"h-24 skeleton rounded-2xl"},o)):c.slice(0,6).map((r,o)=>e.jsxs(a,{to:`/category/${r.slug}`,className:`p-4 rounded-2xl bg-gradient-to-br ${p[o%p.length]} text-white text-center hover:shadow-lg hover:-translate-y-0.5 transition-all duration-300`,children:[e.jsx("span",{className:"text-2xl block mb-1.5",children:r.icon||g[o%g.length]}),e.jsx("span",{className:"text-xs font-semibold",children:r.name})]},r.id))}),!d&&c.length===0&&e.jsxs("div",{className:"text-center py-4 text-gray-400 bg-surface-100 rounded-2xl",children:[e.jsx("svg",{className:"w-8 h-8 mx-auto mb-2 text-gray-300",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"})}),e.jsx("p",{className:"text-sm",children:"No categories found"})]})]}),e.jsxs("section",{children:[e.jsxs("div",{className:"section-header",children:[e.jsxs("h2",{className:"section-title flex items-center gap-2",children:[e.jsx("svg",{className:"w-5 h-5 text-primary-500",viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})}),"Featured"]}),e.jsx(a,{to:"/products?featured=true",className:"section-link",children:"See All"})]}),i?e.jsx("div",{className:"grid grid-cols-2 gap-3",children:[1,2,3,4].map(r=>e.jsx(h,{},r))}):e.jsx("div",{className:"grid grid-cols-2 gap-3",children:s.slice(0,4).map(r=>e.jsx(j,{product:r},r.id))}),!i&&s.length===0&&e.jsxs("div",{className:"text-center py-10 text-gray-400",children:[e.jsx("svg",{className:"w-12 h-12 mx-auto mb-3 text-gray-300",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4"})}),e.jsx("p",{className:"font-medium text-sm",children:"No featured products yet"})]})]}),e.jsxs("section",{children:[e.jsxs("div",{className:"section-header",children:[e.jsx("h2",{className:"section-title",children:"Top Stores"}),e.jsx(a,{to:"/stores",className:"section-link",children:"See All"})]}),e.jsx("div",{className:"flex gap-3 overflow-x-auto pb-2 -mx-4 px-4 scrollbar-hide",children:m.length>0?m.map(r=>e.jsx(S,{store:r},r.id)):e.jsxs("div",{className:"w-full text-center py-10 text-gray-400",children:[e.jsx("svg",{className:"w-12 h-12 mx-auto mb-3 text-gray-300",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"})}),e.jsx("p",{className:"text-sm font-medium",children:"Top stores coming soon"})]})})]}),e.jsxs("section",{children:[e.jsxs("div",{className:"section-header",children:[e.jsx("h2",{className:"section-title",children:"Recently Added"}),e.jsx(a,{to:"/products",className:"section-link",children:"See All"})]}),i?e.jsx("div",{className:"grid grid-cols-2 gap-3",children:[1,2,3,4].map(r=>e.jsx(h,{},r))}):e.jsx("div",{className:"grid grid-cols-2 gap-3",children:t.slice(0,6).map(r=>e.jsx(j,{product:r},r.id))})]}),e.jsx(x,{position:"bottom_banner"})]})]})}export{P as default};
