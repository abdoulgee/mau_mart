import{r as n,a as h,j as e,f as y}from"./index-BxsvggaG.js";const j=["Inappropriate content","Fraudulent activity","Counterfeit product","Offensive language","Misleading information","Harassment","Other"];function N({isOpen:m,onClose:s,entityType:i,entityId:p}){const[a,x]=n.useState(""),[o,f]=n.useState(""),[l,c]=n.useState(!1),{addToast:r}=h();if(!m)return null;const g=async t=>{var u,d;if(t.preventDefault(),!a){r({type:"warning",message:"Please select a reason"});return}c(!0);try{await y.post("/api/v1/reports",{entity_type:i,entity_id:p,reason:a,description:o}),r({type:"success",message:"Report submitted. Thank you for making MAU MART safer!"}),s()}catch(b){r({type:"error",message:((d=(u=b.response)==null?void 0:u.data)==null?void 0:d.message)||"Failed to submit report"})}finally{c(!1)}};return e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-[100]",children:e.jsxs("div",{className:"bg-white rounded-2xl w-full max-w-md p-6 animate-scale-up",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("h2",{className:"text-xl font-bold text-gray-900",children:["Report ",i]}),e.jsx("button",{onClick:s,className:"text-gray-400 hover:text-gray-600",children:e.jsx("svg",{className:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),e.jsxs("form",{onSubmit:g,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Reason"}),e.jsxs("select",{value:a,onChange:t=>x(t.target.value),className:"w-full bg-gray-50 border border-gray-200 rounded-xl px-4 py-3 focus:outline-none focus:ring-2 focus:ring-primary-500",required:!0,children:[e.jsx("option",{value:"",children:"Select a reason"}),j.map(t=>e.jsx("option",{value:t,children:t},t))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Details (Optional)"}),e.jsx("textarea",{value:o,onChange:t=>f(t.target.value),placeholder:"Tell us more about the issue...",className:"w-full bg-gray-50 border border-gray-200 rounded-xl px-4 py-3 h-32 resize-none focus:outline-none focus:ring-2 focus:ring-primary-500"})]}),e.jsxs("div",{className:"flex gap-3 pt-2",children:[e.jsx("button",{type:"button",onClick:s,className:"btn-secondary flex-1",children:"Cancel"}),e.jsx("button",{type:"submit",disabled:l,className:"btn-primary flex-1",children:l?"Submitting...":"Submit Report"})]})]})]})})}export{N as R};
