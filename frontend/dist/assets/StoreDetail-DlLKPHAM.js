import{g as b,b as y,r as l,f as m,j as e,L as n}from"./index-BxsvggaG.js";import{H as x}from"./Header-DUNe79n9.js";import{a as o,P as w}from"./Skeleton-BiEkAveh.js";import{R as k}from"./ReportModal-DbEHjK7l.js";function L({product:t}){var a,s;return e.jsx(n,{to:`/product/${t.id}`,className:"group block",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-card overflow-hidden hover:shadow-card-hover hover:-translate-y-0.5 transition-all duration-300",children:[e.jsx("div",{className:"aspect-square relative overflow-hidden",children:(s=(a=t.media)==null?void 0:a[0])!=null&&s.url?e.jsx("img",{src:t.media[0].url,alt:t.title,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-500",loading:"lazy"}):e.jsx("div",{className:"w-full h-full bg-gradient-to-br from-surface-100 to-surface-200 flex items-center justify-center",children:e.jsx("svg",{className:"w-12 h-12 text-gray-300",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4"})})})}),e.jsxs("div",{className:"p-3",children:[e.jsx("h3",{className:"font-semibold text-gray-800 text-sm line-clamp-2 mb-1 leading-tight",children:t.title}),e.jsxs("span",{className:"text-base font-bold text-primary-600",children:["â‚¦",t.price.toLocaleString()]})]})]})})}function R(){var d;const{id:t}=b(),{user:a}=y(),[s,h]=l.useState(null),[i,u]=l.useState([]),[j,p]=l.useState(!0),[f,c]=l.useState(!1);l.useEffect(()=>{g()},[t]);const g=async()=>{try{const[r,N]=await Promise.all([m.get(`/api/v1/stores/${t}`),m.get(`/api/v1/stores/${t}/products`)]);h(r.data.store),u(N.data.products||[])}catch(r){console.error("Failed to fetch store:",r)}finally{p(!1)}};if(j)return e.jsxs("div",{className:"min-h-screen bg-surface-50",children:[e.jsx(x,{showBack:!0}),e.jsx(o,{className:"h-40 w-full"}),e.jsxs("div",{className:"p-4 space-y-4",children:[e.jsx(o,{className:"h-8 w-2/3"}),e.jsx(o,{className:"h-4 w-full"}),e.jsx("div",{className:"grid grid-cols-2 gap-3 mt-6",children:[1,2,3,4].map(r=>e.jsx(w,{},r))})]})]});if(!s)return e.jsx("div",{className:"min-h-screen bg-surface-50 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-20 h-20 mx-auto mb-4 bg-surface-100 rounded-2xl flex items-center justify-center",children:e.jsx("svg",{className:"w-10 h-10 text-gray-300",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5"})})}),e.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-2",children:"Store not found"}),e.jsx(n,{to:"/",className:"btn-primary px-6 mt-4 inline-block",children:"Go Home"})]})});const v=(a==null?void 0:a.id)===(s==null?void 0:s.owner_id);return e.jsxs("div",{className:"min-h-screen bg-surface-50 pb-20",children:[e.jsx(x,{showBack:!0,transparent:!0,rightAction:v?null:e.jsx("button",{onClick:()=>c(!0),className:"p-2 text-gray-600 hover:text-red-500 transition-colors rounded-xl",children:e.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})})})}),e.jsx(k,{isOpen:f,onClose:()=>c(!1),entityType:"store",entityId:t}),e.jsxs("div",{className:"relative h-40 bg-gradient-to-br from-primary-500 to-primary-700",children:[s.banner_url&&e.jsx("img",{src:s.banner_url,alt:"",className:"w-full h-full object-cover"}),e.jsx("div",{className:"absolute inset-0 bg-black/20"})]}),e.jsxs("div",{className:"bg-white -mt-12 rounded-t-3xl relative z-10 px-4 pt-6 pb-4",children:[e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx("div",{className:"w-20 h-20 -mt-14 rounded-2xl bg-white shadow-elevated flex items-center justify-center overflow-hidden border-4 border-white ring-2 ring-primary-200",children:s.logo_url?e.jsx("img",{src:s.logo_url,alt:s.name,className:"w-full h-full object-cover"}):e.jsx("svg",{className:"w-8 h-8 text-primary-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5"})})}),e.jsxs("div",{className:"flex-1 pt-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("h1",{className:"text-xl font-bold text-gray-900",children:s.name}),s.is_verified&&e.jsx("svg",{className:"w-5 h-5 text-blue-500",viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M6.267 3.455a3.066 3.066 0 001.745-.723 3.066 3.066 0 013.976 0 3.066 3.066 0 001.745.723 3.066 3.066 0 012.812 2.812c.051.643.304 1.254.723 1.745a3.066 3.066 0 010 3.976 3.066 3.066 0 00-.723 1.745 3.066 3.066 0 01-2.812 2.812 3.066 3.066 0 00-1.745.723 3.066 3.066 0 01-3.976 0 3.066 3.066 0 00-1.745-.723 3.066 3.066 0 01-2.812-2.812 3.066 3.066 0 00-.723-1.745 3.066 3.066 0 010-3.976 3.066 3.066 0 00.723-1.745 3.066 3.066 0 012.812-2.812zm7.44 5.252a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})})]}),e.jsxs("p",{className:"text-sm text-gray-500 mt-0.5",children:[s.store_type," store"]})]})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-4 mt-6 text-center",children:[e.jsxs("div",{className:"bg-surface-50 rounded-2xl py-3",children:[e.jsx("p",{className:"text-lg font-bold text-gray-900",children:i.length}),e.jsx("p",{className:"text-[11px] text-gray-500 font-medium",children:"Products"})]}),e.jsxs("div",{className:"bg-surface-50 rounded-2xl py-3",children:[e.jsxs("p",{className:"text-lg font-bold text-gray-900 flex items-center justify-center gap-1",children:[e.jsx("svg",{className:"w-4 h-4 text-primary-400",viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})}),((d=s.rating)==null?void 0:d.toFixed(1))||"0.0"]}),e.jsx("p",{className:"text-[11px] text-gray-500 font-medium",children:"Rating"})]}),e.jsxs("div",{className:"bg-surface-50 rounded-2xl py-3",children:[e.jsx("p",{className:"text-lg font-bold text-gray-900",children:s.total_orders||0}),e.jsx("p",{className:"text-[11px] text-gray-500 font-medium",children:"Orders"})]})]}),s.description&&e.jsx("p",{className:"text-gray-600 text-sm mt-4 leading-relaxed",children:s.description}),e.jsxs(n,{to:`/chat?seller=${s.owner_id}`,className:"btn-primary w-full mt-4",children:[e.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"})}),"Contact Seller"]})]}),e.jsxs("div",{className:"p-4",children:[e.jsxs("h2",{className:"section-title mb-4",children:["Products (",i.length,")"]}),i.length>0?e.jsx("div",{className:"grid grid-cols-2 gap-3",children:i.map(r=>e.jsx(L,{product:r},r.id))}):e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"w-16 h-16 mx-auto mb-3 bg-surface-100 rounded-2xl flex items-center justify-center",children:e.jsx("svg",{className:"w-8 h-8 text-gray-300",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4"})})}),e.jsx("p",{className:"text-gray-400 font-medium text-sm",children:"No products yet"})]})]})]})}export{R as default};
