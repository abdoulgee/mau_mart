import{a as w,d as h,r as c,j as s,f as g}from"./index-BxsvggaG.js";import{H as f}from"./Header-DUNe79n9.js";function j(){const{addToast:t}=w(),m=h(),[o,d]=c.useState(!1),[e,l]=c.useState({current_password:"",new_password:"",confirm_password:""}),n=a=>{l(r=>({...r,[a.target.name]:a.target.value}))},p=async a=>{var r,i;if(a.preventDefault(),e.new_password!==e.confirm_password){t({type:"error",message:"Passwords do not match"});return}d(!0);try{await g.put("/api/v1/users/password",{current_password:e.current_password,new_password:e.new_password}),t({type:"success",message:"Password changed successfully"}),m("/profile")}catch(u){t({type:"error",message:((i=(r=u.response)==null?void 0:r.data)==null?void 0:i.message)||"Failed to change password"})}finally{d(!1)}};return s.jsxs("div",{className:"min-h-screen bg-surface-50 pb-20",children:[s.jsx(f,{title:"Change Password",showBack:!0}),s.jsx("div",{className:"p-4",children:s.jsxs("form",{onSubmit:p,className:"card space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Current Password"}),s.jsx("input",{type:"password",name:"current_password",value:e.current_password,onChange:n,className:"input",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"New Password"}),s.jsx("input",{type:"password",name:"new_password",value:e.new_password,onChange:n,className:"input",required:!0,minLength:6})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Confirm New Password"}),s.jsx("input",{type:"password",name:"confirm_password",value:e.confirm_password,onChange:n,className:"input",required:!0,minLength:6})]}),s.jsx("button",{type:"submit",disabled:o,className:"btn-primary w-full",children:o?"Changing...":"Change Password"})]})})]})}export{j as default};
