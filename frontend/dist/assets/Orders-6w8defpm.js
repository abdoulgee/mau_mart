import{h as g,r as c,f,j as e,L as j}from"./index-BxsvggaG.js";import{a as n}from"./Skeleton-BiEkAveh.js";const u={pending_payment:"bg-yellow-100 text-yellow-700",awaiting_approval:"bg-blue-100 text-blue-700",approved:"bg-green-100 text-green-700",rejected:"bg-red-100 text-red-700",completed:"bg-gray-100 text-gray-700",cancelled:"bg-gray-100 text-gray-500"},b={pending_payment:"Pending Payment",awaiting_approval:"Awaiting Approval",approved:"Approved",rejected:"Rejected",completed:"Completed",cancelled:"Cancelled"};function y({order:a}){var i,d,r;const t=a.product,l=a.user;return e.jsx(j,{to:`/seller/orders/${a.id}`,className:"card",children:e.jsxs("div",{className:"flex gap-3",children:[e.jsx("div",{className:"w-20 h-20 rounded-xl bg-gray-100 overflow-hidden flex-shrink-0",children:(d=(i=t==null?void 0:t.media)==null?void 0:i[0])!=null&&d.url?e.jsx("img",{src:t.media[0].url,alt:t.title,className:"w-full h-full object-cover"}):e.jsx("div",{className:"w-full h-full flex items-center justify-center text-3xl",children:"ðŸ“¦"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-start justify-between mb-1",children:[e.jsx("h3",{className:"font-medium text-gray-900 line-clamp-1",children:(t==null?void 0:t.title)||"Product"}),e.jsx("span",{className:`text-xs px-2 py-1 rounded-full flex-shrink-0 ml-2 ${u[a.status]}`,children:b[a.status]})]}),e.jsxs("p",{className:"text-sm text-gray-500 mb-1",children:["Order #",a.order_number]}),e.jsxs("p",{className:"text-xs text-gray-400 mb-2",children:["Buyer: ",l==null?void 0:l.first_name," ",l==null?void 0:l.last_name]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("span",{className:"text-primary-600 font-semibold",children:["â‚¦",(r=a.total_price)==null?void 0:r.toLocaleString()]}),e.jsx("span",{className:"text-xs text-gray-400",children:new Date(a.created_at).toLocaleDateString()})]})]})]})})}function w(){const[a]=g(),[t,l]=c.useState([]),[i,d]=c.useState(!0),[r,o]=c.useState(a.get("status")||"all");c.useEffect(()=>{m()},[]),c.useEffect(()=>{const s=a.get("status");s&&o(s)},[a]);const m=async()=>{try{const s=await f.get("/api/v1/orders/seller");l(s.data.orders||[])}catch(s){console.error("Failed to fetch seller orders:",s)}finally{d(!1)}},x=r==="all"?t:t.filter(s=>s.status===r),p=[{id:"all",label:"All"},{id:"awaiting_approval",label:"Pending"},{id:"approved",label:"Approved"},{id:"completed",label:"Completed"},{id:"rejected",label:"Rejected"}];return e.jsxs("div",{className:"space-y-4",children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Orders"}),e.jsx("div",{className:"bg-white rounded-xl border border-gray-100 p-1",children:e.jsx("div",{className:"flex gap-1 overflow-x-auto scrollbar-hide",children:p.map(s=>e.jsx("button",{onClick:()=>o(s.id),className:`px-4 py-2 text-sm font-medium whitespace-nowrap rounded-lg transition-colors ${r===s.id?"bg-primary-500 text-white":"text-gray-600 hover:bg-gray-50"}`,children:s.label},s.id))})}),e.jsx("div",{className:"space-y-3",children:i?Array.from({length:3}).map((s,h)=>e.jsx("div",{className:"card",children:e.jsxs("div",{className:"flex gap-3",children:[e.jsx(n,{className:"w-20 h-20 rounded-xl"}),e.jsxs("div",{className:"flex-1",children:[e.jsx(n,{className:"h-5 w-3/4 mb-2"}),e.jsx(n,{className:"h-4 w-1/2 mb-2"}),e.jsx(n,{className:"h-4 w-1/3"})]})]})},h)):x.length>0?x.map(s=>e.jsx(y,{order:s},s.id)):e.jsxs("div",{className:"card text-center py-16",children:[e.jsx("span",{className:"text-6xl block mb-4",children:"ðŸ“¦"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No orders yet"}),e.jsx("p",{className:"text-gray-500",children:"Orders from customers will appear here"})]})})]})}export{w as default};
