import{r as d,a as f,f as i,j as e,L as o}from"./index-BxsvggaG.js";import{a as n}from"./Skeleton-BiEkAveh.js";function g(){const[l,m]=d.useState([]),[x,u]=d.useState(!0),{addToast:c}=f();d.useEffect(()=>{p()},[]);const p=async()=>{var s;try{const a=(s=(await i.get("/api/v1/stores/my-store")).data.store)==null?void 0:s.id;if(a){const r=await i.get(`/api/v1/stores/${a}/products`);m(r.data.products||[])}}catch{c({type:"error",message:"Failed to load products"})}finally{u(!1)}},h=async s=>{if(confirm("Are you sure you want to delete this product?"))try{await i.delete(`/api/v1/products/${s}`),c({type:"success",message:"Product deleted"}),m(l.filter(t=>t.id!==s))}catch{c({type:"error",message:"Failed to delete product"})}};return e.jsxs("div",{className:"p-4 space-y-4 pb-8",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"My Products"}),e.jsx(o,{to:"/seller/products/new",className:"btn-primary text-sm",children:"+ Add Product"})]}),x?e.jsx("div",{className:"grid grid-cols-2 gap-4",children:[1,2,3,4].map(s=>e.jsxs("div",{className:"card",children:[e.jsx(n,{className:"aspect-square rounded-xl mb-3"}),e.jsx(n,{className:"h-4 w-3/4 mb-2"}),e.jsx(n,{className:"h-4 w-1/2"})]},s))}):l.length>0?e.jsx("div",{className:"grid grid-cols-2 gap-4",children:l.map(s=>{var t,a,r;return e.jsxs("div",{className:"card",children:[e.jsxs("div",{className:"aspect-square rounded-xl bg-gray-100 overflow-hidden mb-3 relative",children:[(a=(t=s.media)==null?void 0:t[0])!=null&&a.url?e.jsx("img",{src:s.media[0].url,alt:s.title,className:"w-full h-full object-cover"}):e.jsx("div",{className:"w-full h-full flex items-center justify-center text-3xl",children:"ðŸ“¦"}),!s.is_in_stock&&e.jsx("div",{className:"absolute inset-0 bg-black/60 flex items-center justify-center",children:e.jsx("span",{className:"text-white text-sm font-medium",children:"Out of Stock"})})]}),e.jsx("h3",{className:"font-medium text-gray-900 line-clamp-2 text-sm mb-1",children:s.title}),e.jsxs("p",{className:"text-primary-600 font-semibold mb-3",children:["â‚¦",(r=s.price)==null?void 0:r.toLocaleString()]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(o,{to:`/seller/products/${s.id}/edit`,className:"btn-secondary text-xs py-1 flex-1",children:"Edit"}),e.jsx("button",{onClick:()=>h(s.id),className:"text-xs py-1 px-3 text-red-600 bg-red-50 rounded-lg hover:bg-red-100",children:"Delete"})]})]},s.id)})}):e.jsxs("div",{className:"text-center py-16",children:[e.jsx("span",{className:"text-6xl block mb-4",children:"ðŸ“¦"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No products yet"}),e.jsx("p",{className:"text-gray-500 mb-6",children:"Add your first product to start selling"}),e.jsx(o,{to:"/seller/products/new",className:"btn-primary px-6",children:"Add Product"})]})]})}export{g as default};
